<cook-it-top-bar
  [title]="recipeOnStart.name"
  [selectedOption]="'Edit'"
  (deleteRecipe)="handleOnDelete($event)"
></cook-it-top-bar>

<form [formGroup]="form">
  <cook-it-recipe-form>
    <div header class="container">
      <span class="container__title">Edit recipe</span>
      <div class="container__button">
        <button
          class="container__button-undo"
          [ngClass]="
            form.invalid || form.pristine
              ? 'container__button-disabled'
              : 'container__button-save'
          "
          (click)="undoChanges()"
          [disabled]="form.invalid || form.pristine"
          mat-button
        >
          Undo changes
        </button>
        <button
          class="container__button-save"
          [ngClass]="
            form.invalid || form.pristine
              ? 'container__button-disabled'
              : 'container__button-save'
          "
          (click)="saveRecipe()"
          [disabled]="form.invalid || form.pristine"
          mat-button
        >
          Save changes
        </button>
      </div>
    </div>
  </cook-it-recipe-form>

  <div class="container">
    <span class="container__title">Edit Ingredients</span>
    <div class="container__button">
      <button
        (click)="addIngredient()"
        mat-button
        class="container__button-add"
      >
        Add ingredient
      </button>
    </div>
  </div>

  <div class="ingredient">
    <cook-it-ingredient-form
      *ngFor="let ingredient of ingredients.controls; index as i"
      [form]="ingredient"
    >
      <button class="delete-button" mat-button (click)="deleteIngredient(i)">
        Delete
      </button>
    </cook-it-ingredient-form>
  </div>
</form>
